{% extends "base.html" %}
{% block content %}
<h1>User Administration</h1>
<div class="grid grid-2">
  <div class="card">
    <h3>Create Admin/Coordinator</h3>
    <form method="post">
      <input type="email" name="email" placeholder="Email" required>
      <input type="password" name="password" placeholder="Password" required>
      <select name="role" required>
        <option value="PLACEMENT_COORDINATOR">Placement Coordinator</option>
        <option value="ADMIN">Admin</option>
      </select>
      <button type="submit">Create User</button>
    </form>
  </div>
</div>

<h3>All Users</h3>
<table>
  <thead>
    <tr>
      <th>Email</th>
      <th>Role</th>
      <th>Verified</th>
      <th>Linked Student</th>
      <th>Created</th>
    </tr>
  </thead>
  <tbody>
    {% for u in users %}
    <tr>
      <td>{{ u.email }}</td>
      <td>{{ u.role }}</td>
      <td>{{ "Yes" if u.is_verified else "No" }}</td>
      <td>{{ u.student.roll_no if u.student else "-" }}</td>
      <td>{{ u.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
